<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>ISA 401: Business Intelligence &amp; Data Visualization</title>
    <meta charset="utf-8" />
    <meta name="author" content=" Fadel M. Megahed, PhD    Associate Professor   Department of Information Systems and Analytics   Farmer School of Business  Miami University  Twitter: FadelMegahed  GitHub: fmegahed  Email: fmegahed@miamioh.edu  Office Hours: Automated Scheduler for Virtual Office Hours  " />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <link href="libs/animate.css/animate.xaringan.css" rel="stylesheet" />
    <link href="libs/tachyons/tachyons.min.css" rel="stylesheet" />
    <script src="libs/xaringanExtra_fit-screen/fit-screen.js"></script>
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <script type="application/json" id="xaringanExtra-editable-docid">{"id":"b7ef283ba9484dd4a6e8dc92fa558e53","expires":14}</script>
    <script src="libs/himalaya/himalaya.js"></script>
    <script src="libs/js-cookie/js.cookie.js"></script>
    <link href="libs/editable/editable.css" rel="stylesheet" />
    <script src="libs/editable/editable.js"></script>
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/shareon/shareon.min.css" rel="stylesheet" />
    <script src="libs/shareon/shareon.min.js"></script>
    <link href="libs/xaringanExtra-shareagain/shareagain.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-shareagain/shareagain.js"></script>
    <script src="libs/peerjs/peerjs.min.js"></script>
    <script src="libs/tiny.toast/toast.min.js"></script>
    <link href="libs/xaringanExtra-broadcast/broadcast.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-broadcast/broadcast.js"></script>
    <script src="libs/mark.js/mark.min.js"></script>
    <link href="libs/xaringanExtra-search/search.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-search/search.js"></script>
    <script>window.addEventListener('load', function() { window.xeSearch = new RemarkSearch({"position":"bottom-left","caseSensitive":false,"showIcon":false,"autoSearch":true}) })</script>
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <link rel="stylesheet" href="css/fonts.css" type="text/css" />
    <link rel="stylesheet" href="css/my-theme.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# ISA 401: Business Intelligence &amp; Data Visualization
## 23: A Short Introduction to Exploratory Data Mining
### <br>Fadel M. Megahed, PhD <br><br> Associate Professor <br> Department of Information Systems and Analytics <br> Farmer School of Business<br> Miami University<br><br>Twitter: <a href="www.twitter.com/FadelMegahed/">FadelMegahed</a><br> GitHub: <a href="https://github.com/fmegahed">fmegahed</a><br> Email: <a href="mailto:fmegahed@miamioh.edu">fmegahed@miamioh.edu</a><br> Office Hours: <a href="https://calendly.com/fmegahed">Automated Scheduler for Virtual Office Hours</a><br><br>
### Spring 2022

---







# A Recap of What we Learned Last Week

- Define a “business report” &amp; its main functions  

- Understand the importance of the right KPIs  

- Automate traditional business reports  

- Dashboards as real-time business reporting tools


---

# Course Objectives Covered so Far

[Y]ou will be re-introduced to **how data should be explored** ... Instead, the focus is on understanding the underlying methodology and mindset of **how data should be approached, handled, explored, and incorporated back into the domain of interest.** ... You are expected to:  

<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg> .green[.bold[Be capable of extracting, transforming and loading (ETL) data using multiple platforms (e.g. <svg aria-hidden="true" role="img" viewBox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:green;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> &amp; Tableau).]]   

<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg> .green[.bold[Write basic <svg aria-hidden="true" role="img" viewBox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:green;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> scripts to preprocess and clean the data.]]  

<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg> .green[.bold[Explore the data using visualization approaches that are based on sound human factors (i.e. account for human cognition and perception of data).]]

<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"/></svg> **Understand how data mining and other analytical tools can capitalize on the insights generated from the data viz process.**  

<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg> .green[.bold[Create interactive dashboards that can be used for business decision making, reporting and/or performance management.]]

<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"/></svg> **Be able to apply the skills from this class in your future career.**


---


# Learning Objectives for Today's Class

- Describe the goals &amp; functions of data mining  

- Understand the statistical limits on data mining  

- Describe the data mining process  

- What is “frequent itemsets” &amp; the application of this concept  

- Explain how and why “association rules” are constructed  

- Use <svg aria-hidden="true" role="img" viewBox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to populate both concepts


---
class: inverse, center, middle

# An Overview of Data Mining

---

# What is Data Mining?

- The most common definition of data mining is the discovery of models from data.  

- Discovery of **patterns and models that are:**  
  + **Valid:** hold on new data with some certainty  
  + **Useful:** should be possible to act on the item  
  + **Unexpected:** non-obvious to the system 
  + **Understandable:** humans should be able to interpret the pattern

- Subsidiary Issues:  
  + **Data cleansing:** detection of bogus data  
  + **Data visualization:** something better than MBs of output 
  + **Warehousing** of data (for retrieval)

.footnote[
&lt;html&gt;
&lt;hr&gt;
&lt;/html&gt;

**Source:** The slide is adapted from Jure Leskovic, Stanford CS246, Lecture Notes, see &lt;http://cs246.stanford.edu&gt;
]


---

# A Simplistic View of Data Mining Models



&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="figures/data_mining_models.png" alt="An Overview of Data Mining Models" width="100%" /&gt;
&lt;p class="caption"&gt;A simplistic summary of data mining models. Note that, in ISA 401, we will only briefly cover descriptive/exploratory data mining models&lt;/p&gt;
&lt;/div&gt;

---

# Data Mining is Hard

Data mining is hard since it has the following issues:

- Scalability

- Dimensionality

- Complex and Heterogeneous Data

- Data Quality

- Data Ownership and Distribution

- Privacy Preservation

**Note that I have intentionally not included fitting/training a model since this is relatively easy if you understand the data, engineered/captured the important predictors, and have the data in the "correct" shape/quality.**


---

# Association Rules

.panelset[
.panel[.panel-name[Data]




```
## transactions as itemMatrix in sparse format with
##  9835 rows (elements/itemsets/transactions) and
##  169 columns (items) and a density of 0.02609146 
## 
## most frequent items:
##       whole milk other vegetables       rolls/buns             soda 
##             2513             1903             1809             1715 
##           yogurt          (Other) 
##             1372            34055 
## 
## element (itemset/transaction) length distribution:
## sizes
##    1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16 
## 2159 1643 1299 1005  855  645  545  438  350  246  182  117   78   77   55   46 
##   17   18   19   20   21   22   23   24   26   27   28   29   32 
##   29   14   14    9   11    4    6    1    1    1    1    3    1 
## 
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   1.000   2.000   3.000   4.409   6.000  32.000 
## 
## includes extended item information - examples:
##        labels  level2           level1
## 1 frankfurter sausage meat and sausage
## 2     sausage sausage meat and sausage
## 3  liver loaf sausage meat and sausage
```

]

.panel[.panel-name[Top 5 Rules]




```
##     lhs                                    rhs              support    
## [1] {Instant food products, soda}       =&gt; {hamburger meat} 0.001220132
## [2] {soda, popcorn}                     =&gt; {salty snack}    0.001220132
## [3] {flour, baking powder}              =&gt; {sugar}          0.001016777
## [4] {ham, processed cheese}             =&gt; {white bread}    0.001931876
## [5] {whole milk, Instant food products} =&gt; {hamburger meat} 0.001525165
##     confidence coverage    lift     count
## [1] 0.6315789  0.001931876 18.99565 12   
## [2] 0.6315789  0.001931876 16.69779 12   
## [3] 0.5555556  0.001830198 16.40807 10   
## [4] 0.6333333  0.003050330 15.04549 19   
## [5] 0.5000000  0.003050330 15.03823 15
```
]

.panel[
.panel-name[Scatter Plot of all Rules]

&lt;img src="23_data_mining_overview_files/figure-html/rules_scatter-1.png" style="display: block; margin: auto;" /&gt;

]


.panel[
.panel-name[Graph-based Plot of Top 5 Rules]

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="23_data_mining_overview_files/figure-html/rules_graph-1.png" alt="Graph-based visualization with items and rules as vertices."  /&gt;
&lt;p class="caption"&gt;Graph-based visualization with items and rules as vertices.&lt;/p&gt;
&lt;/div&gt;
]

]

---

# Clustering of Traffic Volume on I-85

<div class="countdown" id="timer_625c739a" style="top:0;right:0;font-size:2em;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">04</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

.panelset[
.panel[.panel-name[Data]
&lt;img src="figures/i85.png" width="100%" style="display: block; margin: auto;" /&gt;

]


.panel[.panel-name[Calendar Plot of Clustered Data]
&lt;img src="figures/tcluster.png" width="100%" style="display: block; margin: auto;" /&gt;
]

.panel[.panel-name[Insights from Chart?]

**Based on the previous tab, what are 2-3 main insights you have learned about the traffic volume in Montgomery, AL?** Write them down below

.can-edit.key-activity[Edit me and insert your solution here]

]

]


---

# Regression vs Classification

.center[
&lt;img src="https://miro.medium.com/max/1400/1*Qn4eJPhkvrEQ62CtmydLZw.png" width="60%" style="display: block; margin: auto;" /&gt;
]

---

# An Overview of Common Data Mining Models

.center[
&lt;img src="https://scikit-learn.org/stable/_static/ml_map.png" width="90%" style="display: block; margin: auto;" /&gt;
]


---
class: inverse, center, middle

# Limits on Data Mining


---

# Meaningfulness of Answers from DM Models

- .black[.bold[A big risk when data mining is that you will discover patterns that are meaningless.]]  

- **Bonferroni’s Principle:** (roughly) if you look in more places for interesting patterns than your amount of data will support, you are bound to find.

.center[
![](https://imgs.xkcd.com/comics/extrapolating.png)
]


---

# Rhines Paradox: An Example of Overzealous DM?

- Joseph Rhine was a parapsychologist in the 1950s who hypothesized that some people had **Extra-Sensory Perception**.  

- He devised an experiment where subjects were asked to guess 10 hidden cards .red[red] or .blue[blue].  

- He discovered that almost 1 in 1000 had ESP they were able to get all 10 right!  

- He told these people they had ESP and called them in for another test of the same type.

- Alas, he discovered that almost all of them had lost their ESP. 

- **What did he conclude?**  
  + He concluded that you should not tell people they have ESP; it causes them to lose it.  
  + **Why is this an incorrect conclusion?**
  
  
---

# Ethical Issues with Data Mining

.pull-left[
.center[
![](https://images-na.ssl-images-amazon.com/images/I/51eUw-v0X+L._SX329_BO1,204,203,200_.jpg)
]
]

.pull-right[
.center[
![](https://images-na.ssl-images-amazon.com/images/I/51obBtKNC5L._SX331_BO1,204,203,200_.jpg)
]
]


---

# In the News: AI Implementation Scandals

&lt;img src="figures/politico.jpg" width="65%" style="display: block; margin: auto;" /&gt;



---
class: inverse, center, middle

# The Data Mining Process

---

# Frameworks for Data Mining Projects

.center[
[![](https://www.datascience-pm.com/wp-content/uploads/2020/10/process-google-search-volume-2019-2020.png)](https://www.datascience-pm.com/crisp-dm-still-most-popular/)
]


---

# The CRISP-DM Process

.pull-left[

- **You are expected to read the [original CRISP-DM paper](http://www.cs.unibo.it/~danilo.montesi/CBD/Beatriz/10.1.1.198.5133.pdf)**

- Each step has several substeps

- **Most of the project time is typically spent in steps 1-3**
]

.pull-right[
.center[
&lt;a title="Alexander Schröder, CC BY-SA 4.0 &amp;lt;https://creativecommons.org/licenses/by-sa/4.0&amp;gt;, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:CRISP_DM_Data_mining_management_process.jpg"&gt;&lt;img width="512" alt="CRISP DM Data mining management process" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/CRISP_DM_Data_mining_management_process.jpg/512px-CRISP_DM_Data_mining_management_process.jpg"&gt;&lt;/a&gt;
]
]


---
class: inverse, center, middle

# Frequent Itemsets, Market Basket Analysis and Association Rule Mining

---

# Association Rule Discovery

**Supermarket shelf management – Market-basket model:**

- **Goal:** Identify items that are bought together by sufficiently many customers  

- **Approach:** Process the sales data collected with barcode scanners to find dependencies among items  

- **A classic rule:**  
  + If someone buys diaper and milk, then he/she is likely to buy beer  
  + Don’t be surprised if you find six-packs next to diapers!

.footnote[
&lt;html&gt;
&lt;hr&gt;
&lt;/html&gt;
**Source:** J. Leskovec, A. Rajaraman, J. Ullman: Mining of Massive Datasets, http://www.mmds.org

]


---

# The Market-Basket Model

.pull-left[
- A large set of **items**  
  + e.g., things sold in a supermarket

- A large set of **baskets** 

- Each basket is a **small subset of items** 
  + e.g., the things one customer buys on one day

- Want to discover **association rules**  
  + People who bought {x,y,z} tend to buy {v,w} 
    * Amazon!
]

.pull-right[
.center[
**Input:**

&lt;html&gt;
&lt;style type="text/css"&gt;
.tg  {border-collapse:collapse;border-spacing:0;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  overflow:hidden;padding:10px 5px;word-break:normal;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
.tg .tg-v0hj{background-color:#efefef;border-color:inherit;font-weight:bold;text-align:center;vertical-align:top}
.tg .tg-7btt{border-color:inherit;font-weight:bold;text-align:center;vertical-align:top}
.tg .tg-fymr{border-color:inherit;font-weight:bold;text-align:left;vertical-align:top}
&lt;/style&gt;
&lt;table class="tg"&gt;
&lt;thead&gt;
  &lt;tr&gt;
    &lt;th class="tg-v0hj"&gt;Basket #&lt;/th&gt;
    &lt;th class="tg-v0hj"&gt;Items&lt;/th&gt;
  &lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
    &lt;td class="tg-7btt"&gt;1&lt;/td&gt;
    &lt;td class="tg-fymr"&gt;&lt;span style="color:#BEAED4"&gt;Bread&lt;/span&gt;&lt;span style="color:#333"&gt;, &lt;/span&gt;&lt;span style="color:#FE0000"&gt;Coke&lt;/span&gt;&lt;span style="color:#333"&gt;, &lt;/span&gt;&lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-7btt"&gt;2&lt;/td&gt;
    &lt;td class="tg-fymr"&gt;&lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;&lt;span style="color:#333"&gt;, &lt;/span&gt;&lt;span style="color:#BEAED4"&gt;Bread&lt;/span&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-7btt"&gt;3&lt;/td&gt;
    &lt;td class="tg-fymr"&gt;&lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;, &lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;, &lt;span style="color:#7FC97F"&gt;Diaper&lt;/span&gt;, &lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-7btt"&gt;4&lt;/td&gt;
    &lt;td class="tg-fymr"&gt;&lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;, &lt;span style="color:#BEAED4"&gt;Bread&lt;/span&gt;, &lt;span style="color:#7FC97F"&gt;Diaper&lt;/span&gt;, &lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-7btt"&gt;5&lt;/td&gt;
    &lt;td class="tg-fymr"&gt;&lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;,&lt;span style="color:#7FC97F"&gt; Diaper&lt;/span&gt;, &lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;&lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/html&gt;

&lt;br&gt;

**Output:** .black[.bold[Discovered Rules]] 


{&lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;} --&gt; {&lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;}  
{&lt;span style="color:#7FC97F"&gt;Diaper&lt;/span&gt;, &lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;} --&gt; {&lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;}


]
]



.footnote[
&lt;html&gt;
&lt;hr&gt;
&lt;/html&gt;
**Source:** J. Leskovec, A. Rajaraman, J. Ullman: Mining of Massive Datasets, &lt;http://www.mmds.org&gt;
]


---

# Definitions: Support &amp; Support Threshold

.pull-left[
- **Simplest question:** Find sets of items that appear together “frequently” in baskets 

- **Support for itemset `\(I\)`:** Number of baskets containing all items in `\(I\)`  
  + Often expressed as a fraction of the total number of baskets  

- Given a **support threshold `\(s\)`**, then sets of items that appear in at least `\(s\)` baskets are called frequent itemsets
]

.pull-right[

.center[
**Input:**

&lt;html&gt;
&lt;style type="text/css"&gt;
.tg  {border-collapse:collapse;border-spacing:0;}
.tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  overflow:hidden;padding:10px 5px;word-break:normal;}
.tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
  font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
.tg .tg-v0hj{background-color:#efefef;border-color:inherit;font-weight:bold;text-align:center;vertical-align:top}
.tg .tg-7btt{border-color:inherit;font-weight:bold;text-align:center;vertical-align:top}
.tg .tg-fymr{border-color:inherit;font-weight:bold;text-align:left;vertical-align:top}
&lt;/style&gt;
&lt;table class="tg"&gt;
&lt;thead&gt;
  &lt;tr&gt;
    &lt;th class="tg-v0hj"&gt;Basket #&lt;/th&gt;
    &lt;th class="tg-v0hj"&gt;Items&lt;/th&gt;
  &lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
    &lt;td class="tg-7btt"&gt;1&lt;/td&gt;
    &lt;td class="tg-fymr"&gt;&lt;span style="color:#BEAED4"&gt;Bread&lt;/span&gt;&lt;span style="color:#333"&gt;, &lt;/span&gt;&lt;span style="color:#FE0000"&gt;Coke&lt;/span&gt;&lt;span style="color:#333"&gt;, &lt;/span&gt;&lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-7btt"&gt;2&lt;/td&gt;
    &lt;td class="tg-fymr"&gt;&lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;&lt;span style="color:#333"&gt;, &lt;/span&gt;&lt;span style="color:#BEAED4"&gt;Bread&lt;/span&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-7btt"&gt;3&lt;/td&gt;
    &lt;td class="tg-fymr"&gt;&lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;, &lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;, &lt;span style="color:#7FC97F"&gt;Diaper&lt;/span&gt;, &lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-7btt"&gt;4&lt;/td&gt;
    &lt;td class="tg-fymr"&gt;&lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;, &lt;span style="color:#BEAED4"&gt;Bread&lt;/span&gt;, &lt;span style="color:#7FC97F"&gt;Diaper&lt;/span&gt;, &lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td class="tg-7btt"&gt;5&lt;/td&gt;
    &lt;td class="tg-fymr"&gt;&lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;,&lt;span style="color:#7FC97F"&gt; Diaper&lt;/span&gt;, &lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;&lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/html&gt;

&lt;br&gt;


.black[.bold[Support of {&lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;, &lt;span style="color:#BEAED4"&gt;Bread&lt;/span&gt;}:]] = 2

]

]

.footnote[
&lt;html&gt;
&lt;hr&gt;
&lt;/html&gt;
**Source:** J. Leskovec, A. Rajaraman, J. Ullman: Mining of Massive Datasets, &lt;http://www.mmds.org&gt;
]


---

# Non-graded Activity: Frequent Itemsets

<div class="countdown" id="timer_625c7557" style="top:0;right:0;font-size:2em;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">04</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

.panelset[
.panel[.panel-name[Activity]

.black[.bold[Items]] = {&lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;, &lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;, &lt;span style="color:#7FC97F"&gt;Pepsi&lt;/span&gt;, &lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;,  &lt;span style="color:#BEAED4"&gt;Juice&lt;/span&gt;}


&lt;br&gt;

**With a support threshold of 3 baskets, find all frequent itemsets based on these 8 baskets:**

- `\(B_1 =\)` {&lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;, &lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;, &lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;}   `\(\qquad \qquad\)` `\(B_2 =\)` {&lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;, &lt;span style="color:#7FC97F"&gt;Pepsi&lt;/span&gt;, &lt;span style="color:#BEAED4"&gt;Juice&lt;/span&gt;}     

- `\(B_3 =\)` {&lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;, &lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;}   `\(\qquad \qquad \qquad \quad\)` `\(B_4 =\)` {&lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;, &lt;span style="color:#BEAED4"&gt;Juice&lt;/span&gt;}  

- `\(B_5 =\)` {&lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;, &lt;span style="color:#7FC97F"&gt;Pepsi&lt;/span&gt;, &lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;}   `\(\qquad \qquad\)` `\(B_6 =\)` {&lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;, &lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;,  &lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;, &lt;span style="color:#BEAED4"&gt;Juice&lt;/span&gt;} 

- `\(B_6 =\)` {&lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;, &lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;, &lt;span style="color:#BEAED4"&gt;Juice&lt;/span&gt;}   `\(\qquad \qquad\)` `\(B_8 =\)` {&lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;,  &lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;} 
]

.panel[.panel-name[Your Solution]

**Identify all frequent singletons, doubles, triples, etc.**

.can-edit.key-activity2[Edit me and insert your solution here]

]


]


---

# Association Rules

- **Association Rules:** If-then rules about the contents of baskets  

- .orange[{i&lt;sub&gt;1&lt;/sub&gt;, i&lt;sub&gt;2&lt;/sub&gt;,…,i&lt;sub&gt;k&lt;/sub&gt;} &amp;#8594; j]  means: "if a basket contains all of `\(i_1,…,i_k\)` then it is likely to contain `\(j\)`"  

- **In practice there are many rules, want to find significant/interesting ones!**  

- **Confidence** of this association rule is the probability of `\(j\)` given `\(I =\)` {$i_1,…,i_k$}

.center[
`\(conf(I \rightarrow j) = P (j \ | \ I) = \frac{support(I \ \cup \ j)}{support(I)}\)`
]

- **Not all high-confidence rules are interesting**   
  + The rule .black[.bold[X]] &amp;#8594; .black[.bold[milk]] may have high confidence for many itemsets .black[.bold[X]], because .black[.bold[milk]] is just purchased very often (independent of .black[.bold[X]]) and the confidence will be high
  
- **Lift** of an association rule `\(I \rightarrow J\)` is the ratio between its confidence and the fraction of baskets containing `\(j\)`: `\(\qquad lift(I \rightarrow j) = \frac{conf(I \rightarrow j)}{Pr(j)}\)`


.footnote[
&lt;html&gt;
&lt;hr&gt;
&lt;/html&gt;
**Adaped from** J. Leskovec, A. Rajaraman, J. Ullman: Mining of Massive Datasets, &lt;http://www.mmds.org&gt;
]

---

# Non-Graded Activity: Confidence and Lift

<div class="countdown" id="timer_625c7659" style="top:0;right:0;font-size:2em;" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">04</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

.panelset[
.panel[.panel-name[Activity]

- `\(B_1 =\)` {&lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;, &lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;, &lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;}   `\(\qquad \qquad\)` `\(B_2 =\)` {&lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;, &lt;span style="color:#7FC97F"&gt;Pepsi&lt;/span&gt;, &lt;span style="color:#BEAED4"&gt;Juice&lt;/span&gt;}     

- `\(B_3 =\)` {&lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;, &lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;}   `\(\qquad \qquad \qquad \quad\)` `\(B_4 =\)` {&lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;, &lt;span style="color:#BEAED4"&gt;Juice&lt;/span&gt;}  

- `\(B_5 =\)` {&lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;, &lt;span style="color:#7FC97F"&gt;Pepsi&lt;/span&gt;, &lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;}   `\(\qquad \qquad\)` `\(B_6 =\)` {&lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;, &lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;,  &lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;, &lt;span style="color:#BEAED4"&gt;Juice&lt;/span&gt;} 

- `\(B_6 =\)` {&lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;, &lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;, &lt;span style="color:#BEAED4"&gt;Juice&lt;/span&gt;}   `\(\qquad \qquad\)` `\(B_8 =\)` {&lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;,  &lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;} 


&lt;br&gt;

**For the association rule:** {&lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;, &lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;} &amp;#8594; &lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;, compute both its confidence and lift.


]

.panel[.panel-name[Your Solution]

**Computing the confidence and lift for the association rule** {&lt;span style="color:#386CB0"&gt;Milk&lt;/span&gt;, &lt;span style="color:#FDC086"&gt;Beer&lt;/span&gt;} &amp;#8594; &lt;span style="color:#F0027F"&gt;Coke&lt;/span&gt;

.can-edit.key-activity3[Edit me and insert your solution here]

]
]


---

# Finding Association Rules

- **Problem:** .black[.bold[Find all association rules with support &amp;ge; s and confidence &amp;ge; c]]  

  + **Note:** Support of an association rule is the support of the set of items on the left side
  
- **Hard part:** .black[.bold[Finding the frequent itemsets!]]    

  + If .red[{i&lt;sub&gt;1&lt;/sub&gt;, i&lt;sub&gt;2&lt;/sub&gt;,…,i&lt;sub&gt;k&lt;/sub&gt;} &amp;#8594; j] has high support and confidence, then:   
  + both .orange[{i&lt;sub&gt;1&lt;/sub&gt;, i&lt;sub&gt;2&lt;/sub&gt;,… ,i&lt;sub&gt;k&lt;/sub&gt;}]  and both .orange[{i&lt;sub&gt;1&lt;/sub&gt;, i&lt;sub&gt;2&lt;/sub&gt;,…,i&lt;sub&gt;k&lt;/sub&gt;, j}] will be “frequent”



---

# Naïve Approach to Counting Frequent Itemsets

- Naïve approach to finding frequent pairs

- **Read file once, counting in main memorythe occurrences of each pair:**  
  + From each basket of `\(n\)` items, generate its `\(\frac{n(n-1)}{2}\)` pairs by two nested loops  
  
- Fails if (#items)^2 exceeds main memory  
  + Remember: #items can be 100K (Wal-Mart) or 10B (Web pages)  
    * Suppose `\(10^5\)` items, counts are 4-byte integers  
    * Number of pairs of items: `\(\frac{10^5(10^5-1)}{2} = 5*10^9\)` 
    * Therefore, `\(2*10^{10}\)` (20 gigabytes) of memory needed


.footnote[
&lt;html&gt;
&lt;hr&gt;
&lt;/html&gt;
**Source:** J. Leskovec, A. Rajaraman, J. Ullman: Mining of Massive Datasets, &lt;http://www.mmds.org&gt;
]


---

# A-Priori Algorithm

- A .black[.bold[two-pass]] approach called **A-Priori** limits the need for main memory  

- **Key idea:** .black[.bold[monotonicity]]   

  + If a set of items `\(I\)` appears at least `\(s\)` times, so does every subset `\(J\)` of `\(I\)`  

- **Contrapositive for pairs:** If item `\(i\)` does not appear in `\(s\)` baskets, then no pair including `\(i\)` can appear in `\(s\)` baskets

&lt;br&gt;

- **So, how does A-Priori find frequent pairs?**


.footnote[
&lt;html&gt;
&lt;hr&gt;
&lt;/html&gt;
**Source:** J. Leskovec, A. Rajaraman, J. Ullman: Mining of Massive Datasets, &lt;http://www.mmds.org&gt;
]


---
count:false

# A-Priori Algorithm

.pull-left[
- **Pass 1:** Read baskets and count in main memory the occurrences of each **individual item**   
  + Requires only memory proportional to #items

- **Items that appear `\(\ge s\)` times are the frequent items**

- **Pass 2:** Read baskets again and count in main memory **only those pairs where both elements are frequent (from Pass 1)** 
]

.pull-right[
.center[
![](figures/apriori.png)
]
]

.footnote[
&lt;html&gt;
&lt;hr&gt;
&lt;/html&gt;
**Source:** J. Leskovec, A. Rajaraman, J. Ullman: Mining of Massive Datasets, &lt;http://www.mmds.org&gt;
]


---

# Using <svg aria-hidden="true" role="img" viewBox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to Mine Association Rules

**In class, we will go through this R code, explaining: (a) what each function is doing, and (b) the outputs from each step.**

.font90[

```r
if(require(pacman)==FALSE) install.packages('pacman')
pacman::p_load(arules, tidyverse)

data('Groceries') # note its class

summary(Groceries)

itemFrequency(Groceries) # returns frequency in alphabetic order
itemFrequency(Groceries) %&gt;% sort(decreasing = T)

itemFrequencyPlot(Groceries, support = 0.1) 
itemFrequencyPlot(Groceries, topN = 20)

# mine association rules with a certain min support and confidence
grocery_rules = apriori(
  Groceries, parameter = list(
    support = 0.01, confidence = 0.5, minlen = 2, maxlen = 5)  )

summary(grocery_rules)
inspect(grocery_rules)

sort(grocery_rules, by ='lift', decreasing = T)[1:3] %&gt;% inspect()
```
]




---
class: inverse, center, middle

# Recap

---

# Summary of Main Points

- Describe the goals &amp; functions of data mining  

- Understand the statistical limits on data mining  

- Describe the data mining process  

- What is “frequent itemsets” &amp; the application of this concept  

- Explain how and why “association rules” are constructed  

- Use <svg aria-hidden="true" role="img" viewBox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> to populate both concepts

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
